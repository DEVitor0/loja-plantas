{"version":3,"file":"registro.bundle.js","mappings":"8qBAAMA,EAAU,WAQX,O,EAPD,SAAAA,EAAYC,EAAYC,EAAeC,I,4FAAeC,CAAA,KAAAJ,GAClDK,KAAKJ,WAAaA,EAClBI,KAAKH,cAAgBA,EACrBG,KAAKF,cAAgBA,EAErBE,KAAKC,gBAAkBC,KAAKC,MAAMC,aAAaC,QAAQ,uBAAyB,GAChFL,KAAKM,kBAAoBJ,KAAKC,MAAMC,aAAaC,QAAQ,uBAAyB,EACtF,G,EAAC,EAAAE,IAAA,mBAAAC,MAED,WAAmB,IAAAC,EAAA,KACTb,EAAac,SAASC,cAAcX,KAAKJ,YAC3CA,GACAA,EAAWgB,iBAAiB,UAAU,SAACC,GACnCA,EAAEC,iBACFL,EAAKM,eACT,GAER,GAAC,CAAAR,IAAA,eAAAC,MAED,SAAaQ,GACT,IAAMpB,EAAac,SAASC,cAAcX,KAAKJ,YAC/C,GAAIA,EAAY,CACZ,IAAMqB,EAAoBrB,EAAWe,cAAc,kBAC/CM,GACAA,EAAkBC,SAGtB,IAAMC,EAAcT,SAASU,cAAc,OAC3CD,EAAYE,UAAUC,IAAI,iBAC1B,IAAMC,EAAgBb,SAASU,cAAc,KAE7CD,EAAYK,YAAYD,GACxB3B,EAAW4B,YAAYL,GACvBI,EAAcE,YAAcT,CAChC,CACJ,GAAC,CAAAT,IAAA,gBAAAC,MAED,WACI,IAAMkB,EAAQhB,SAASC,cAAcX,KAAKH,eACpC8B,EAAQjB,SAASC,cAAcX,KAAKF,eAE1C,GAAI4B,EAAMlB,OAASmB,EAAMnB,OAarB,IAZkC,IAA9BkB,EAAMlB,MAAMoB,QAAQ,OAA6C,IAA9BF,EAAMlB,MAAMoB,QAAQ,KACvD5B,KAAK6B,aAAa,+BAEdC,OAAOC,SAASC,KAAKC,SAAS,gBAC9BjC,KAAKC,gBAAgBiC,KAAKR,EAAMlB,OAChCR,KAAKM,kBAAkB4B,KAAKP,EAAMnB,OAClCJ,aAAa+B,QAAQ,oBAAqBjC,KAAKkC,UAAUpC,KAAKC,kBAC9DG,aAAa+B,QAAQ,oBAAqBjC,KAAKkC,UAAUpC,KAAKM,oBAC9DwB,OAAOC,SAASC,KAAO,oCAI3BF,OAAOC,SAASC,KAAKC,SAAS,cAAe,CAC7C,IAAMI,EAAarC,KAAKC,gBAAgB2B,QAAQF,EAAMlB,QAClC,IAAhB6B,GAAqBrC,KAAKM,kBAAkB+B,KAAgBV,EAAMnB,MAClER,KAAK6B,aAAa,+CAElBC,OAAOC,SAASC,KAAO,kCAE/B,OAEAhC,KAAK6B,aAAa,uCAE1B,M,6EAAC,CAlEW,GAsEZnB,SAASE,iBAAiB,oBAAoB,WACtCkB,OAAOC,SAASC,KAAKC,SAAS,cACnB,IAAItC,EAAW,SAAU,UAAW,WAC5C2C,mBAEQ,IAAI3C,EAAW,SAAU,UAAW,WAC5C2C,kBAEX,G","sources":["webpack://loja-plantas/./src/assets/js/registro.js"],"sourcesContent":["class Formulario {\n    constructor(formulario, emailInserido, senhaInserida) {\n        this.formulario = formulario;\n        this.emailInserido = emailInserido;\n        this.senhaInserida = senhaInserida;\n\n        this.emailRegistrado = JSON.parse(localStorage.getItem('emailsRegistrados')) || [];\n        this.senhasRegistradas = JSON.parse(localStorage.getItem('senhasRegistradas')) || [];\n    }\n\n    escutaFormulario() {\n        const formulario = document.querySelector(this.formulario);\n        if (formulario) {\n            formulario.addEventListener('submit', (e) => {\n                e.preventDefault();\n                this.verificaDados();\n            });\n        }\n    }\n\n    mensagemErro(mensagem) {\n        const formulario = document.querySelector(this.formulario);\n        if (formulario) {\n            const mensagemExistente = formulario.querySelector('.mensagem-erro');\n            if (mensagemExistente) {\n                mensagemExistente.remove();\n            }\n\n            const divMensagem = document.createElement(\"div\");\n            divMensagem.classList.add(\"mensagem-erro\");\n            const textoMensagem = document.createElement(\"p\");\n\n            divMensagem.appendChild(textoMensagem);\n            formulario.appendChild(divMensagem);\n            textoMensagem.textContent = mensagem;\n        }\n    }\n\n    verificaDados() {\n        const email = document.querySelector(this.emailInserido);\n        const senha = document.querySelector(this.senhaInserida);\n\n        if (email.value && senha.value) {\n            if (email.value.indexOf('@') === -1 || email.value.indexOf('.') === -1) {\n                this.mensagemErro('EndereÃ§o de email incorreto');\n            } else {\n                if (window.location.href.includes('criar.html')) {\n                    this.emailRegistrado.push(email.value);\n                    this.senhasRegistradas.push(senha.value);\n                    localStorage.setItem('emailsRegistrados', JSON.stringify(this.emailRegistrado));\n                    localStorage.setItem('senhasRegistradas', JSON.stringify(this.senhasRegistradas));\n                    window.location.href = 'http://127.0.0.1:5500/index.html';\n                }\n            }\n\n            if (window.location.href.includes('login.html')) {\n                const indexEmail = this.emailRegistrado.indexOf(email.value);\n                if (indexEmail === -1 || this.senhasRegistradas[indexEmail] !== senha.value) {\n                    this.mensagemErro('E-mail ou senha incorretos. Tente novamente');\n                } else {\n                    window.location.href = 'http://127.0.0.1:5500/index.html';\n                }\n            }\n        } else {\n            this.mensagemErro('Preencha todos os campos para enviar');\n        }\n    }\n}\n\n(function () {\n    document.addEventListener('DOMContentLoaded', () => {\n        if (window.location.href.includes('criar.html')) {\n            const f1 = new Formulario('#formR', '#emailR', '#senhaR');\n            f1.escutaFormulario();\n        } else {\n            const f2 = new Formulario('#formL', '#emailL', '#senhaL');\n            f2.escutaFormulario();\n        }\n    });\n})();\n"],"names":["Formulario","formulario","emailInserido","senhaInserida","_classCallCheck","this","emailRegistrado","JSON","parse","localStorage","getItem","senhasRegistradas","key","value","_this","document","querySelector","addEventListener","e","preventDefault","verificaDados","mensagem","mensagemExistente","remove","divMensagem","createElement","classList","add","textoMensagem","appendChild","textContent","email","senha","indexOf","mensagemErro","window","location","href","includes","push","setItem","stringify","indexEmail","escutaFormulario"],"sourceRoot":""}